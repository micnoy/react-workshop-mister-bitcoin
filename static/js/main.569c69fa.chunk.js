(this["webpackJsonpworkshop-misterbicoin"]=this["webpackJsonpworkshop-misterbicoin"]||[]).push([[0],{204:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(34),c=n.n(o),i=(n(88),n(89),n(20)),s=n(4),l=n(5),u=n(7),m=n(6),d=n(8),p=n(14),f=n(3),h=n.n(f),v=n(95),b={getRate:function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(v.get("https://blockchain.info/tobtc?currency=USD&value=1"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},getMarketPrice:function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(v.get("https://api.blockchain.info/charts/market-price?timespan=6months&format=json&cors=true"));case 2:return e=t.sent,t.abrupt("return",e.data.values);case 4:case"end":return t.stop()}}))},getConfirmedTransactions:function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.awrap(v.get("https://api.blockchain.info/charts/n-transactions?timespan=6months&format=json&cors=true"));case 2:return e=t.sent,t.abrupt("return",e.data.values);case 4:case"end":return t.stop()}}))}};var C=function(e){return{type:"SET_BITCOIN_RATE",rate:e}},g=function(e){return{type:"SET_MARKET_PRICE",marketPrice:e}},E=function(e){return{type:"SET_CONFIRMED_TRANSACTIONS",confirmedTransactions:e}},y={getUser:function(){return{name:"Ochoa Hyde",coins:100,moves:[]}}};var w=function(e){return{type:"SET_USER",user:e}},O=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.loadBitcoinRate(),this.props.loadUser()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.rate;return r.a.createElement("section",{className:"nav-page"},t&&r.a.createElement("h3",null,t.name),t&&r.a.createElement("h3",null,"Coins: ",t.coins),n&&r.a.createElement("h3",null,"BTC: ",n))}}]),t}(a.Component),k={loadBitcoinRate:function(){return function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(b.getRate());case 2:return t=n.sent,n.abrupt("return",e(C(t)));case 4:case"end":return n.stop()}}))}},loadUser:function(){return function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(y.getUser());case 2:return t=n.sent,n.abrupt("return",e(w(t)));case 4:case"end":return n.stop()}}))}}},j=Object(p.b)((function(e){return{rate:e.bitcoinStore.rate,user:e.userStore.user}}),k)(O),T={getContacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t,n){var a,r=_;e&&e.term&&(a=(a=e.term).toLocaleLowerCase(),r=_.filter((function(e){return e.name.toLocaleLowerCase().includes(a)||e.phone.toLocaleLowerCase().includes(a)||e.email.toLocaleLowerCase().includes(a)}))),t(r.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0})))}))},getContactById:function(e){return new Promise((function(t,n){var a=_.find((function(t){return t._id===e}));a?t(a):n("Contact id ".concat(e," not found!"))}))},deleteContact:function(e){return new Promise((function(t,n){var a=_.findIndex((function(t){return t._id===e}));-1!==a&&_.splice(a,1),t(_)}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,n){var a=_.findIndex((function(t){return e._id===t._id}));-1!==a&&(_[a]=e),t(e)}))}(e):function(e){return new Promise((function(t,n){e._id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),_.push(e),t(e)}))}(e)},getEmptyContact:function(){return{name:"",email:"",phone:""}}},_=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}];var S=n(9),N=function(e){var t="https://robohash.org/"+e.contact._id;return r.a.createElement("div",null,r.a.createElement("img",{className:"avatar",src:t,alt:""}))},x=function(e){return{type:"SET_CONTACTS",contacts:e}},R=function(e){return console.log("setCurrentContact",e),{type:"SET_CURRENT_CONTACT",contact:e}},A=function(e){return console.log("loadCurrentContact",e),function(t){var n;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(T.getContactById(e));case 2:return n=a.sent,a.abrupt("return",t(R(n)));case 4:case"end":return a.stop()}}))}},B=function(){return{type:"CLEAR_CURRENT_CONTACT"}},P=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).deleteContact=function(e){T.deleteContact(e).then((function(){return n.props.history.goBack()}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;console.log("loading id",e),this.props.loadCurrentContact(e)}},{key:"componentWillUnmount",value:function(){this.props.clearCurrentContact()}},{key:"render",value:function(){var e=this,t=this.props.contact;return t?r.a.createElement("div",{className:"nav-page"},r.a.createElement(N,{contact:t}),r.a.createElement("h3",null,"Name"),r.a.createElement("h6",null,t.name),r.a.createElement("h3",null,"Phone"),r.a.createElement("h6",null,t.phone),r.a.createElement("h3",null,"Email"),r.a.createElement("h6",null,t.email),r.a.createElement(S.b,{to:"/contact/edit/"+t._id},r.a.createElement("button",null,"Edit")),r.a.createElement("button",{onClick:function(){return e.deleteContact(t._id)}},"Delete"),r.a.createElement(S.b,{to:"/contact/"},r.a.createElement("button",null,"Cancel"))):r.a.createElement("div",null,r.a.createElement("h1",null,"Contact does not exist"))}}]),t}(a.Component),L={loadCurrentContact:A,clearCurrentContact:B},z=Object(p.b)((function(e){return console.log("state ",e),{contact:e.contactStore.currentContact}}),L)(P),I=n(15),M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).propertyChanged=function(e,t){e.persist(),n.contactBeingEdited||(n.contactBeingEdited=Object(I.a)({},n.props.contact)),n.contactBeingEdited[t]=e.target.value,console.log(n.contactBeingEdited)},n.saveContact=function(){T.saveContact(n.contactBeingEdited).then((function(){n.props.history.goBack()}))},n.goBack=function(){n.props.history.goBack()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;console.log("contactId",e),e&&this.props.loadCurrentContact(e)}},{key:"componentWillUnmount",value:function(){this.props.clearCurrentContact()}},{key:"render",value:function(){var e=this,t=this.props.contact;return r.a.createElement("form",{className:"nav-page"},r.a.createElement("h1",null,"Edit contact page"),r.a.createElement("h3",null,"Name"),r.a.createElement("input",{type:"text",onChange:function(t){return e.propertyChanged(t,"name")},defaultValue:t&&t.name}),r.a.createElement("h3",null,"Phone"),r.a.createElement("input",{type:"phone",onChange:function(t){return e.propertyChanged(t,"phone")},defaultValue:t&&t.phone}),r.a.createElement("h3",null,"Email"),r.a.createElement("input",{type:"email",onChange:function(t){return e.propertyChanged(t,"email")},defaultValue:t&&t.email}),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.goBack},"Cancel"),r.a.createElement("button",{onClick:this.saveContact},t?"Save":"Add")))}}]),t}(a.Component),U={loadCurrentContact:A,clearCurrentContact:B},D=Object(p.b)((function(e){return{contact:e.contactStore.currentContact}}),U)(M),W=n(77),H=function(e){var t=e.data.map((function(e){return new Date(1e3*e.x).toDateString()})),n=e.data.map((function(e){return Number.parseFloat(e.y).toFixed(2)})),a={labels:t,datasets:[{label:e.chartName,fill:!0,lineTension:.2,backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgb(0,0,0)",pointBackgroundColor:"#000000",pointBorderWidth:2,pointHoverRadius:10,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:n}]};return r.a.createElement(W.a,{data:a})},F=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.loadMarketPrice(),this.props.loadConfirmedTransactions()}},{key:"render",value:function(){var e=this.props,t=e.marketPrice,n=e.confirmedTransactions;return r.a.createElement("section",{className:"nav-page"},t&&r.a.createElement(H,{className:"Graph",data:t,chartName:"Market price (USD)",backgroundColor:"rgba(47,54,192,0.4)",borderColor:"rgb(47,54,192,1)"}),r.a.createElement("h4",null,"Average USD marker price across major bitcon exchanges."),n&&r.a.createElement(H,{data:n,chartName:"Confirmed Transactions Per Day",backgroundColor:"rgba(55,122,40,0.4)",borderColor:"rgb(55,122,40,1)"}),r.a.createElement("h4",null,"The number of daily confirmed bitcoin transactions."))}}]),t}(a.Component),G={loadMarketPrice:function(){return function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(b.getMarketPrice());case 2:return t=n.sent,n.abrupt("return",e(g(t)));case 4:case"end":return n.stop()}}))}},loadConfirmedTransactions:function(){return function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(b.getConfirmedTransactions());case 2:return t=n.sent,n.abrupt("return",e(E(t)));case 4:case"end":return n.stop()}}))}}},J=Object(p.b)((function(e){return{marketPrice:e.bitcoinStore.marketPrice,confirmedTransactions:e.bitcoinStore.confirmedTransactions}}),G)(F),V=function(e){var t=e.contact;return r.a.createElement(S.b,{to:"/contact/"+t._id,className:"item-content"},r.a.createElement(N,{contact:t}),r.a.createElement("div",{className:"contact-name"},t.name))},q=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getContactItem=function(e,t,a){return a?t.name.toLowerCase().includes(a.toLowerCase())?n.singleContact(e,t):void 0:n.singleContact(e,t)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"singleContact",value:function(e,t){return r.a.createElement("li",{className:"li-item-container",key:e},r.a.createElement(V,{contact:t}))}},{key:"render",value:function(){var e=this,t=this.props.contacts,n=this.props.filter;return r.a.createElement("div",null,r.a.createElement("ul",{className:"contacts-list"},t&&t.map((function(t,a){return e.getContactItem(a,t,n)}))))}}]),t}(a.Component),K=function(e){var t=e.onFilter;return r.a.createElement("input",{placeholder:"Search for contact",onChange:function(e){return t(e)}})},Q=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={filter:""},n.filterChanged=function(e){e.persist(),n.setState({filter:e.target.value})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.loadContacts()}},{key:"render",value:function(){var e=this.props.contacts;return r.a.createElement("section",{className:"nav-page"},r.a.createElement(K,{onFilter:this.filterChanged}),r.a.createElement(S.b,{to:"/contact/edit/"},r.a.createElement("h3",null,"Add new contact")),r.a.createElement(q,{contacts:e,filter:this.state.filter}))}}]),t}(a.Component),X={loadContacts:function(){return function(e){var t;return h.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.a.awrap(T.getContacts());case 2:return t=n.sent,n.abrupt("return",e(x(t)));case 4:case"end":return n.stop()}}))}}},Y=Object(p.b)((function(e){return{contacts:e.contactStore.contacts}}),X)(Q),Z=n(79),$=n.n(Z),ee=n(80),te=n.n(ee),ne=n(81),ae=n.n(ne),re=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.text;return r.a.createElement("div",{className:"header-item"},r.a.createElement("img",{src:t,alt:""}),r.a.createElement("div",{className:"header-item-text"},n))}}]),t}(a.Component),oe=function(){return r.a.createElement("header",{className:"app-header"},r.a.createElement(S.b,{to:"/"},r.a.createElement(re,{text:"Home",icon:$.a})),r.a.createElement(S.b,{to:"/contact"},r.a.createElement(re,{text:"Contacts",icon:ae.a})),r.a.createElement(S.b,{to:"/stats"},r.a.createElement(re,{text:"Statistics",icon:te.a})))};var ce=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(oe,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:j}),r.a.createElement(i.a,{exact:!0,path:"/contact/",component:Y}),r.a.createElement(i.a,{exact:!0,path:"/contact/edit/:id?",component:D}),r.a.createElement(i.a,{exact:!0,path:"/contact/:id",component:z}),r.a.createElement(i.a,{exact:!0,path:"/stats/",component:J})))},ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var le=n(11),ue=n(22),me=n(82),de={user:null};var pe={contacts:null,currentContact:null};var fe={rate:null,marketPrice:null,confirmedTransactions:null};var he=Object(ue.c)({userStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(I.a)({},e,{user:t.user});default:return e}},contactStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACTS":return Object(I.a)({},e,{contacts:t.contacts});case"SET_CURRENT_CONTACT":return Object(I.a)({},e,{currentContact:t.contact});case"CLEAR_CURRENT_CONTACT":return Object(I.a)({},e,{currentContact:null});default:return e}},bitcoinStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BITCOIN_RATE":return Object(I.a)({},e,{rate:t.rate});case"SET_MARKET_PRICE":return Object(I.a)({},e,{marketPrice:t.marketPrice});case"SET_CONFIRMED_TRANSACTIONS":return Object(I.a)({},e,{confirmedTransactions:t.confirmedTransactions});default:return e}}}),ve=Object(ue.d)(he,Object(ue.a)(me.a)),be=Object(le.a)();c.a.render(r.a.createElement(p.a,{store:ve},r.a.createElement(S.a,{history:be},r.a.createElement(ce,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-workshop-mister-bitcoin",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-workshop-mister-bitcoin","/service-worker.js");ie?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):se(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):se(t,e)}))}}()},79:function(e,t,n){e.exports=n.p+"static/media/ic-home.5924881c.svg"},80:function(e,t,n){e.exports=n.p+"static/media/ic-statistics.2e8a0200.svg"},81:function(e,t,n){e.exports=n.p+"static/media/ic-contacts.c56851b8.svg"},83:function(e,t,n){e.exports=n(204)},88:function(e,t,n){},89:function(e,t,n){}},[[83,1,2]]]);
//# sourceMappingURL=main.569c69fa.chunk.js.map